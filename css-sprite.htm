<!DOCTYPE html>
<html lang="ru">

<head>
    <meta charset="UTF-8">
    <title>JavaScript</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="bootstrap/css/bootstrap.min.css">
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <script src="js/jquery-3.3.1.min.js"></script>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/all.min.css">
</head>

<body>
<div id="get_left_menu"></div>
    <div class="navbar-wrapper">
        <div class="navbar navbar-dark bg-dark box-shadow">
            <span class="hamburger-menu" id="get_mobile_menu"><i class="fas fa-bars"></i></span>
        </div>
    </div>
    <div class="main-content-wrapper">
<div class="page__inner"><main class="main main_width-limit"><header class="main__header"><div class="main__header-inner"><ol class="breadcrumbs"><li itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemref="breadcrumb-1" class="breadcrumbs__item breadcrumbs__item_home"><a href="default.htm" itemprop="url" class="breadcrumbs__link"><span itemprop="title" class="breadcrumbs__hidden-text">Учебник</span></a></li><li id="breadcrumb-1" itemscope itemtype="http://data-vocabulary.org/Breadcrumb" itemprop="child" class="breadcrumbs__item"><a href="css-for-js.htm" itemprop="url" class="breadcrumbs__link"><span itemprop="title">CSS для JavaScript-разработчика</span></a></li></ol><h1 class="main__header-title">CSS-спрайты</h1></div></header><div class="content"><article itemscope itemtype="http://schema.org/TechArticle"><meta itemprop="name" content="CSS-спрайты"><div itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="email" content="iliakan@gmail.com"><meta itemprop="name" content="Ilya Kantor"></div><div itemprop="articleBody"><p>CSS-спрайт – способ объединить много изображений в одно, чтобы:</p>
<ol>
<li>Сократить количество обращений к серверу.</li>
<li>Загрузить несколько изображений сразу, включая те, которые понадобятся в будущем.</li>
<li>Если у изображений сходная палитра, то объединённое изображение будет меньше по размеру, чем совокупность исходных картинок.</li>
</ol>
<p>Рассмотрим, как это работает, на примере дерева:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-markup"><code class="language-markup">&lt;ul&gt;
  &lt;li class=&quot;open&quot;&gt;
    &lt;div class=&quot;icon&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;text&quot;&gt;Раздел 1
      &lt;br&gt;В две строки&lt;/div&gt;
    &lt;ul&gt;
      &lt;li class=&quot;closed&quot;&gt;
        &lt;div class=&quot;icon&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;text&quot;&gt;Раздел 1.1 в одну строку&lt;/div&gt;
      &lt;/li&gt;
      &lt;li class=&quot;leaf&quot;&gt;
        &lt;div class=&quot;icon&quot;&gt;&lt;/div&gt;
        &lt;div class=&quot;text&quot;&gt;Страница 1.2
          &lt;br&gt; в две строки&lt;/div&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li class=&quot;closed&quot;&gt;
    &lt;div class=&quot;icon&quot;&gt;&lt;/div&gt;
    &lt;div class=&quot;text&quot;&gt;Раздел 2
      &lt;br&gt;В две строки&lt;/div&gt;
  &lt;/li&gt;
&lt;/ul&gt;</code></pre>
        </div>
      </div>
      
      </div><div class="code-result">
    <div class="code-result__toolbar toolbar"><div class="toolbar__tool">
        <a href="https://js.cx/article/css-sprite/sprite-tree-src/" target="_blank" title="открыть в новом окне" class="toolbar__button toolbar__button_external"></a>
      </div>
      <div class="toolbar__tool">
        <a href="http://plnkr.co/edit/P2vylzWy8XWXPS7T21ik?p=preview" target="_blank" title="открыть в песочнице"
        data-plunk-id="P2vylzWy8XWXPS7T21ik" class="toolbar__button toolbar__button_edit"></a>
      </div>
      </div>
    <iframe class="code-result__iframe" data-trusted="1" style="height:200px" src="https://js.cx/article/css-sprite/sprite-tree-src/"></iframe>
  </div><p>Сейчас «плюс», «минус» и «статья» – три отдельных изображения. Объединим их в спрайт.</p>
<h2><a class="main__anchor" name="шаг-1-использовать-background" href="#шаг-1-использовать-background">Шаг 1. Использовать background</a></h2><p>Первый шаг к объединению изображений в «спрайт» – показывать их через <code>background</code>., а не через тег <code>IMG</code>.</p>
<p>В данном случае он уже сделан. Стиль для дерева:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-css"><code class="language-css">.icon {
  width: 16px;
  height: 16px;
  float: left;
}

.open .icon {
  cursor: pointer;
  background: url(minus.gif);
}

.closed .icon {
  cursor: pointer;
  background: url(plus.gif);
}

.leaf .icon {
  cursor: text;
  background: url(article.gif);
}</code></pre>
        </div>
      </div>
      
      </div><h2><a class="main__anchor" name="шаг-2-объединить-изображения" href="#шаг-2-объединить-изображения">Шаг 2. Объединить изображения</a></h2><p>Составим из нескольких изображений одно <code>icons.gif</code>, расположив их, например, по вертикали.</p>
<p>Из <img src="article/css-sprite/plus.gif" alt="" width="16" height="16">, <img src="article/css-sprite/minus.gif" alt="" width="16" height="16"> и <img src="article/css-sprite/article.gif" alt="" width="16" height="16"> получится одна картинка: <img src="article/css-sprite/icons.gif" alt="" width="16" height="48"></p>
<h2><a class="main__anchor" name="шаг-3-показать-часть-спрайта-в-окошке" href="#шаг-3-показать-часть-спрайта-в-окошке">Шаг 3. Показать часть спрайта в «окошке»</a></h2><p>А теперь самое забавное. Размер <code>DIV'а</code> для иконки – жёстко фиксирован:</p>
<div data-trusted="1" class="code-example" data-highlight-block="2-3">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-css"><code class="language-css">/*+ no-beautify */
.icon {
  width: 16px;
  height: 16px;
  float: left;
}</code></pre>
        </div>
      </div>
      
      </div><p>Это значит, что если поставить <code>background'ом</code> объединённую картинку, то вся она не поместится, будет видна только верхняя часть:</p>
<div class="code-result">
    <div class="code-result__toolbar toolbar"></div>
    <iframe class="code-result__iframe" data-trusted="1" style="height:60px" src="https://js.cx/article/css-sprite/sprite-tree-1/"></iframe>
  </div><p>Если бы высота иконки была больше, например, <code>16x48</code>, как в примере ниже, то было бы видно и остальное:</p>
<div class="code-result">
    <div class="code-result__toolbar toolbar"></div>
    <iframe class="code-result__iframe" data-trusted="1" style="height:80px" src="https://js.cx/article/css-sprite/height48/"></iframe>
  </div><p>…Но так как там всего <code>16px</code>, то помещается только одно изображение.</p>
<h2><a class="main__anchor" name="шаг-4-сдвинуть-спрайт" href="#шаг-4-сдвинуть-спрайт">Шаг 4. Сдвинуть спрайт</a></h2><p>Сдвиг фона <code>background-position</code> позволяет выбирать, какую именно часть спрайта видно.</p>
<p>В спрайте <code>icons.gif</code> изображения объединены так, что сдвиг на <code>16px</code> покажет следующую иконку:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-css"><code class="language-css">/*+ no-beautify */
.icon {
  width: 16px;
  height: 16px;
  float: left;
  background: url(icons.gif) no-repeat;
}

.open .icon {
  background-position: 0 -16px; /* вверх на 16px */
  cursor: pointer;
}

.closed .icon {
  background-position: 0 0px; /* по умолчанию */
  cursor: pointer;
}

.leaf .icon {
  background-position: 0 -32px; /* вверх на 32px */
  cursor: text;
}</code></pre>
        </div>
      </div>
      
      </div><p>Результат:</p>
<div class="code-result">
    <div class="code-result__toolbar toolbar"><div class="toolbar__tool">
        <a href="https://js.cx/article/css-sprite/sprite-tree/" target="_blank" title="открыть в новом окне" class="toolbar__button toolbar__button_external"></a>
      </div>
      <div class="toolbar__tool">
        <a href="http://plnkr.co/edit/SU7nBoZQZE1wCOjOBMPo?p=preview" target="_blank" title="открыть в песочнице"
        data-plunk-id="SU7nBoZQZE1wCOjOBMPo" class="toolbar__button toolbar__button_edit"></a>
      </div>
      </div>
    <iframe class="code-result__iframe" data-trusted="1" style="height:200px" src="https://js.cx/article/css-sprite/sprite-tree/"></iframe>
  </div><ul>
<li>В спрайт могут объединяться изображения разных размеров, т.е. сдвиг может быть любым.</li>
<li>Сдвигать можно и по горизонтали и по вертикали.</li>
</ul>
<h3><a class="main__anchor" name="отступы" href="#отступы">Отступы</a></h3><p>Обычно отступы делаются <code>margin/padding</code>, но иногда их бывает удобно предусмотреть в спрайте.</p>
<p>Тогда если элемент немного больше, чем размер изображения, то в «окошке» не появится лишнего.</p>
<p>Пример спрайта с отступами:</p>
<figure><div class="image" style="width:424px">
      <div class="image__ratio" style="padding-top:17.68867924528302%"></div>
      <img src="article/css-sprite/sprites-example.png" alt="" width="424" height="75" class="image__image">
      </div></figure><p>Иконка RSS находится в нём на координатах <code>(90px, 40px)</code>:</p>
<figure><div class="image" style="width:473px">
      <div class="image__ratio" style="padding-top:35.30655391120507%"></div>
      <img src="article/css-sprite/sprites-example-lines2.png" alt="" width="473" height="167" class="image__image">
      </div></figure><p>Это значит, что чтобы показать эту иконку, нужно сместить фон:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-css"><code class="language-css">background-position: -90px -40px;</code></pre>
        </div>
      </div>
      
      </div><p>При этом в левом-верхнем углу фона как раз и будет эта иконка:</p>
<div class="code-result">
    <div class="code-result__toolbar toolbar"></div>
    <iframe class="code-result__iframe" data-trusted="1" style="height:300px" src="https://js.cx/article/css-sprite/sprite-example/"></iframe>
  </div><p>Элемент, в котором находится иконка (в рамке), больше по размеру, чем картинка.</p>
<p>Его стиль:</p>
<div data-trusted="1" class="code-example">
      <div class="codebox code-example__codebox">
        
        <div class="codebox__code" data-code="1">
          <pre class="line-numbers language-css"><code class="language-css">/*+ no-beautify */
.rss {
  width: 35px; /* ширина/высота больше чем размер иконки */
  height: 35px;
  border: 1px solid black;
  float: left;
  background-image: url(sprite.png);
  background-position: -90px -40px;
}</code></pre>
        </div>
      </div>
      
      </div><p>Если бы в спрайте не было отступов, то в такое большое «окошко» наверняка влезли бы другие иконки.</p>
<h2><a class="main__anchor" name="итого" href="#итого">Итого</a></h2><div class="important important_smart">
            <div class="important__header"><span class="important__type">Когда использовать для изображений <code>IMG</code>, а когда – <code>CSS background</code>?</span></div>
            <div class="important__content"><p>Решение лучше всего принимать, исходя из принципов семантической вёрстки.</p>
<p>Задайте вопрос – что здесь делает изображение? Является ли оно самостоятельным элементом страницы (фотография, аватар посетителя), или же оформляет что-либо (иконка узла дерева)?</p>
<p>Элемент <code>IMG</code> следует использовать в первом случае, а для оформления у нас есть CSS.</p>
</div></div>
<p>Спрайты позволяют:</p>
<ol>
<li>Сократить количество обращений к серверу.</li>
<li>Загрузить несколько изображений сразу, включая те, которые понадобятся в будущем.</li>
<li>Если у изображений сходная палитра, то объединённое изображение будет меньше по размеру, чем совокупность исходных картинок.</li>
</ol>
<p>Если фоновое изображение нужно повторять по горизонтали или вертикали, то спрайты тоже подойдут – изображения в них нужно располагать в этом случае так, чтобы при повторении не были видны соседи, т.е., соответственно, вертикально или горизонтально, но не «решёткой».</p>
<p>Далее мы встретимся со спрайтами при создании интерфейсов, чтобы кнопка при наведении меняла своё изображение. Один спрайт будет содержать все состояния кнопки, а переключение внешнего вида – осуществляться при помощи сдвига <code>background-position</code>.</p>
<p>Для автоматизированной сборки спрайтов используются специальные инструменты, например <a href="http://csssprites.org/">SmartSprites</a>.</p>
</div></article></div></div>
</div>


    <div id="mobile_menu" class="mobile-menu">
        <ul class="mobile-menu__ul">

            <li class="special-links-list__item"><a href="getting-started.htm" class="special-links-list__link">Введение</a></li>
            <li class="special-links-list__item"><a href="first-steps.htm" class="special-links-list__link">Основы JavaScript</a></li>
            <li class="special-links-list__item"><a href="writing-js.htm" class="special-links-list__link">Качество кода</a></li>
            <li class="special-links-list__item"><a href="data-structures.htm" class="special-links-list__link">Структуры данных</a></li>
            <li class="special-links-list__item"><a href="functions-closures.htm" class="special-links-list__link">Замыкания, область видимости</a></li>
            <li class="special-links-list__item"><a href="objects-more.htm" class="special-links-list__link">Методы объектов и контекст вызова</a></li>
            <li class="special-links-list__item"><a href="js-misc.htm" class="special-links-list__link">Некоторые другие возможности</a></li>
            <li class="special-links-list__item"><a href="oop.htm" class="special-links-list__link">ООП в функциональном стиле</a></li>
            <li class="special-links-list__item"><a href="prototypes.htm" class="special-links-list__link">ООП в прототипном стиле</a></li>
            <li class="special-links-list__item"><a href="es-modern.htm" class="special-links-list__link">Современные возможности ES-2015</a></li>


            <li class="special-links-list__item"><a href="document.htm" class="special-links-list__link">Документ и объекты страницы</a></li>
            <li class="special-links-list__item"><a href="events-and-interfaces.htm" class="special-links-list__link">Основы работы с событиями</a></li>
            <li class="special-links-list__item"><a href="event-details.htm" class="special-links-list__link">События в деталях</a></li>
            <li class="special-links-list__item"><a href="forms-controls.htm" class="special-links-list__link">Формы, элементы управления</a></li>
            <li class="special-links-list__item"><a href="widgets.htm" class="special-links-list__link">Создание графических компонентов</a></li>
            <li class="special-links-list__item"><a href="webcomponents.htm" class="course-bricks__brick-title-link main__anchor">Веб-компоненты: взгляд в будущее</a></li>
            <li><span class="sub-title">Дополнительно</span></li>
            <li class="special-links-list__item"><a href="ajax.htm" class="course-bricks__brick-title-link main__anchor">AJAX и COMET</a></li>
            <li class="special-links-list__item"><a href="animation.htm" class="course-bricks__brick-title-link main__anchor">Анимация</a></li>
            <li class="special-links-list__item"><a href="frames-and-windows.htm" class="course-bricks__brick-title-link main__anchor">Окна и Фреймы</a></li>
            <li class="special-links-list__item"><a href="css-for-js.htm" class="course-bricks__brick-title-link main__anchor">CSS для JavaScript-разработчика</a></li>
            <li class="special-links-list__item"><a href="tools.htm" class="course-bricks__brick-title-link main__anchor">Сундучок с инструментами</a></li>
            <li class="special-links-list__item"><a href="regular-expressions-javascript.htm" class="course-bricks__brick-title-link main__anchor">Регулярные выражения</a></li>
            <li class="special-links-list__item"><a href="extra.htm" class="course-bricks__brick-title-link main__anchor">О всякой всячине</a></li>
            <li class="special-links-list__item"><a href="about-this.htm" class="course-bricks__brick-title-link main__anchor">Об учебнике и авторе</a></li>

        </ul>
    </div>
     <script src="js/hammer.min.js"></script>
    <script src="js/hammer-time.min.js"></script>
    <script src="js/jquery.hammer.js"></script>
    <script src="js/scripts.js"></script>


</body>

</html>